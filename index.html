<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gemini Academy | Decentralized Knowledge</title>
    <!-- Tailwind for rapid premium styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Ethers.js for Web3 logic -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.2/ethers.umd.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap');
        
        :root {
            --bg-color: #fafafa;
            --card-bg: rgba(255, 255, 255, 0.8);
            --text-main: #09090b;
            --border-color: #e4e4e7;
        }

        .dark {
            --bg-color: #09090b;
            --card-bg: rgba(24, 24, 27, 0.8);
            --text-main: #fafafa;
            --border-color: #27272a;
        }

        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            transition: background-color 0.5s ease, color 0.5s ease;
            overflow-x: hidden;
        }

        .glass {
            background: var(--card-bg);
            backdrop-filter: blur(12px);
            border: 1px solid var(--border-color);
        }

        .hero-gradient {
            background: linear-gradient(to right, #6366f1, #a855f7, #ec4899);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .animate-pulse-slow {
            animation: pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.1; }
            50% { opacity: 0.3; }
        }

        .page-view {
            display: none;
        }

        .page-view.active {
            display: block;
            animation: fadeIn 0.4s ease-out forwards;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #6366f1; border-radius: 10px; }

        .doc-card {
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .doc-card:hover {
            transform: translateY(-8px);
            border-color: rgba(99, 102, 241, 0.5);
            background: rgba(99, 102, 241, 0.05);
        }

        .proposal-card {
            border-left: 4px solid transparent;
        }
        .proposal-card:hover {
            border-left-color: #6366f1;
        }
    </style>
</head>
<body class="dark">

    <!-- Ambient Background -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none -z-10">
        <div class="absolute top-[-20%] left-[-10%] w-[60%] h-[60%] bg-indigo-600/20 blur-[150px] rounded-full animate-pulse-slow"></div>
        <div class="absolute bottom-[-20%] right-[-10%] w-[60%] h-[60%] bg-purple-600/20 blur-[150px] rounded-full"></div>
    </div>

    <!-- Navigation -->
    <header class="sticky top-0 z-50 glass border-b border-white/10">
        <div class="max-w-7xl mx-auto px-6 h-20 flex items-center justify-between">
            <div class="flex items-center gap-3 cursor-pointer" onclick="showPage('home')">
                <div class="w-10 h-10 bg-indigo-600 rounded-xl flex items-center justify-center shadow-lg shadow-indigo-500/30">
                    <i data-lucide="book-open" class="text-white w-5 h-5"></i>
                </div>
                <div class="flex flex-col">
                    <span class="text-lg font-extrabold tracking-tighter leading-none">GEMINI</span>
                    <span class="text-[9px] font-bold tracking-[0.3em] text-indigo-500 uppercase">Academy</span>
                </div>
            </div>

            <nav class="hidden md:flex items-center gap-8">
                <a href="javascript:void(0)" onclick="showPage('home')" id="nav-home" class="nav-link text-sm font-bold uppercase tracking-widest text-indigo-500">Home</a>
                <a href="javascript:void(0)" onclick="showPage('vault')" id="nav-vault" class="nav-link text-sm font-bold uppercase tracking-widest text-zinc-500 hover:text-indigo-400 transition-colors">Vault</a>
                <a href="javascript:void(0)" onclick="showPage('governance')" id="nav-governance" class="nav-link text-sm font-bold uppercase tracking-widest text-zinc-500 hover:text-indigo-400 transition-colors">Governance</a>
            </nav>

            <div class="flex items-center gap-4">
                <button id="connectBtn" class="px-6 py-2.5 bg-indigo-600 hover:bg-indigo-500 text-white text-sm font-extrabold rounded-xl transition-all shadow-lg shadow-indigo-500/20 flex items-center gap-2">
                    <i data-lucide="wallet" class="w-4 h-4"></i>
                    <span id="walletText">Connect Wallet</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Page: Home -->
    <main id="home-page" class="page-view active max-w-7xl mx-auto px-6 py-20">
        <section class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
            <div>
                <div class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-indigo-500/10 border border-indigo-500/20 text-indigo-500 text-[10px] font-black uppercase tracking-widest mb-8">
                    <span class="w-1.5 h-1.5 rounded-full bg-indigo-500"></span>
                    Knowledge Protocol v2.5
                </div>
                <h1 class="text-6xl md:text-8xl font-extrabold mb-8 tracking-tighter leading-[0.9]">
                    SECURE YOUR <br> <span class="hero-gradient">INTELLECT</span> <br> ON-CHAIN.
                </h1>
                <p class="text-lg text-zinc-500 dark:text-zinc-400 max-w-lg mb-10 leading-relaxed">
                    Decentralized verification for academic research. Authorship proofs and immutable credentials powered by ZK-proofs.
                </p>
                <div class="flex flex-wrap gap-4">
                    <button onclick="showPage('vault')" class="px-8 py-4 bg-indigo-600 text-white rounded-2xl font-extrabold hover:-translate-y-1 transition-all flex items-center gap-2 shadow-xl shadow-indigo-500/20">
                        Launch Vault <i data-lucide="arrow-right" class="w-5 h-5"></i>
                    </button>
                    <button onclick="showPage('docs')" class="px-8 py-4 glass rounded-2xl font-extrabold hover:bg-white/10 transition-all border border-white/5">
                        Documentation
                    </button>
                </div>
            </div>

            <div class="relative">
                <div class="glass p-8 rounded-[2.5rem] relative z-10 overflow-hidden shadow-2xl border-white/5">
                    <div class="flex justify-between items-center mb-8">
                        <h3 class="font-black uppercase tracking-widest text-xs text-zinc-500">Global Stats</h3>
                        <i data-lucide="activity" class="text-indigo-500 w-5 h-5"></i>
                    </div>
                    <div class="space-y-4">
                        <div class="p-4 glass rounded-2xl flex justify-between items-center border-white/5">
                            <span class="text-sm font-bold">Validated Papers</span>
                            <span class="text-xl font-black text-indigo-500">248,102</span>
                        </div>
                        <div class="p-4 glass rounded-2xl flex justify-between items-center border-white/5">
                            <span class="text-sm font-bold">Active Governance Proposals</span>
                            <span class="text-xl font-black text-purple-500">12</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Page: Documentation -->
    <main id="docs-page" class="page-view max-w-7xl mx-auto px-6 py-20">
        <div class="mb-12">
            <h2 class="text-4xl font-black tracking-tight mb-2">Protocol Documentation</h2>
            <p class="text-zinc-500 uppercase tracking-widest text-xs font-bold">The Core Attributes of Gemini Academy</p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            <!-- Doc Attribute 1 -->
            <div class="glass p-8 rounded-3xl doc-card border-white/5" onclick="openDocSummary('Architecture')">
                <div class="w-12 h-12 bg-indigo-600/10 rounded-xl flex items-center justify-center mb-6">
                    <i data-lucide="cpu" class="text-indigo-500"></i>
                </div>
                <h4 class="text-xl font-black mb-3">On-Chain Architecture</h4>
                <p class="text-zinc-500 text-sm leading-relaxed mb-6">Built on high-throughput L2 rollups with Arweave integration for permanent storage.</p>
                <div class="flex items-center text-indigo-500 font-bold text-xs uppercase tracking-widest">
                    View Summary <i data-lucide="arrow-up-right" class="ml-2 w-3 h-3"></i>
                </div>
            </div>
            <!-- Doc Attribute 2 -->
            <div class="glass p-8 rounded-3xl doc-card border-white/5" onclick="openDocSummary('Verification')">
                <div class="w-12 h-12 bg-purple-600/10 rounded-xl flex items-center justify-center mb-6">
                    <i data-lucide="shield-check" class="text-purple-500"></i>
                </div>
                <h4 class="text-xl font-black mb-3">ZK-Verification</h4>
                <p class="text-zinc-500 text-sm leading-relaxed mb-6">Utilizing Groth16 proofs to verify authorship without revealing sensitive private keys.</p>
                <div class="flex items-center text-purple-500 font-bold text-xs uppercase tracking-widest">
                    View Summary <i data-lucide="arrow-up-right" class="ml-2 w-3 h-3"></i>
                </div>
            </div>
            <!-- Doc Attribute 3 -->
            <div class="glass p-8 rounded-3xl doc-card border-white/5" onclick="openDocSummary('Incentives')">
                <div class="w-12 h-12 bg-emerald-600/10 rounded-xl flex items-center justify-center mb-6">
                    <i data-lucide="gem" class="text-emerald-500"></i>
                </div>
                <h4 class="text-xl font-black mb-3">Reward Mechanism</h4>
                <p class="text-zinc-500 text-sm leading-relaxed mb-6">The GEMS token incentivizes peer review quality and long-term node hosting.</p>
                <div class="flex items-center text-emerald-500 font-bold text-xs uppercase tracking-widest">
                    View Summary <i data-lucide="arrow-up-right" class="ml-2 w-3 h-3"></i>
                </div>
            </div>
        </div>
    </main>

    <!-- Page: Vault -->
    <main id="vault-page" class="page-view max-w-7xl mx-auto px-6 py-20">
        <div class="mb-12 flex justify-between items-end">
            <div>
                <h2 class="text-4xl font-black tracking-tight mb-2">Research Vault</h2>
                <p class="text-zinc-500 uppercase tracking-widest text-xs font-bold">Secure Research Repository</p>
            </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <div class="lg:col-span-2 space-y-6">
                <div id="paper-list" class="space-y-4"></div>
            </div>

            <div class="space-y-6">
                <div class="glass p-8 rounded-3xl sticky top-28 border-white/5">
                    <h5 class="text-sm font-black uppercase tracking-widest mb-6">Publish Research</h5>
                    <div id="drop-zone" class="border-2 border-dashed border-zinc-800 rounded-2xl p-8 text-center hover:border-indigo-500/50 cursor-pointer">
                        <input type="file" id="file-input" class="hidden">
                        <i data-lucide="file-plus" class="w-8 h-8 mx-auto mb-2 text-zinc-500"></i>
                        <p class="text-xs font-bold">Upload Document</p>
                    </div>
                    <input type="text" id="paper-title-input" placeholder="Title" class="w-full mt-4 bg-transparent glass rounded-xl py-3 px-4 text-sm border-zinc-800 focus:border-indigo-500 outline-none">
                    <button id="commit-btn" class="w-full mt-4 py-4 bg-indigo-600 text-white rounded-2xl font-bold shadow-lg shadow-indigo-500/30">Sign & Commit</button>
                </div>
            </div>
        </div>
    </main>

    <!-- Page: Governance -->
    <main id="governance-page" class="page-view max-w-7xl mx-auto px-6 py-20">
        <div class="mb-12 flex justify-between items-center">
            <div>
                <h2 class="text-4xl font-black tracking-tight mb-2">Governance</h2>
                <p class="text-zinc-500 uppercase tracking-widest text-xs font-bold">Shape the future of Decentralized Academia</p>
            </div>
            <button class="px-6 py-3 bg-white text-black rounded-xl font-bold text-sm hover:bg-zinc-200 transition-colors">Create Proposal</button>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
            <!-- Sidebar Stats -->
            <div class="space-y-6">
                <div class="glass p-6 rounded-2xl border-white/5">
                    <span class="text-[10px] font-black uppercase tracking-widest text-zinc-500">Voting Power</span>
                    <h4 class="text-2xl font-black mt-1">45.2k GEMS</h4>
                </div>
                <div class="glass p-6 rounded-2xl border-white/5">
                    <span class="text-[10px] font-black uppercase tracking-widest text-zinc-500">Total Delegated</span>
                    <h4 class="text-2xl font-black mt-1">1.2M GEMS</h4>
                </div>
            </div>

            <!-- Proposals List -->
            <div class="lg:col-span-3 space-y-4" id="governance-list">
                <!-- Proposal Item 1 -->
                <div class="glass p-6 rounded-2xl proposal-card border-white/5 flex flex-col md:flex-row justify-between items-start md:items-center gap-6">
                    <div class="space-y-2">
                        <div class="flex items-center gap-3">
                            <span class="px-2 py-0.5 bg-emerald-500/10 text-emerald-500 text-[10px] font-black rounded uppercase">Active</span>
                            <span class="text-zinc-500 text-xs font-bold">ID: 024</span>
                        </div>
                        <h4 class="text-xl font-bold">Upgrade Storage Layer to Arweave Bundlr</h4>
                        <p class="text-sm text-zinc-500 max-w-xl">Migration proposal to lower data anchoring costs by 40% through Bundlr Network integration.</p>
                    </div>
                    <div class="flex gap-3">
                        <button onclick="vote('yes')" class="px-6 py-2.5 bg-zinc-800 hover:bg-emerald-600/20 text-white rounded-xl text-xs font-bold transition-all">For</button>
                        <button onclick="vote('no')" class="px-6 py-2.5 bg-zinc-800 hover:bg-red-600/20 text-white rounded-xl text-xs font-bold transition-all">Against</button>
                    </div>
                </div>
                <!-- Proposal Item 2 -->
                <div class="glass p-6 rounded-2xl proposal-card border-white/5 flex flex-col md:flex-row justify-between items-start md:items-center gap-6 opacity-60">
                    <div class="space-y-2">
                        <div class="flex items-center gap-3">
                            <span class="px-2 py-0.5 bg-zinc-500/10 text-zinc-500 text-[10px] font-black rounded uppercase">Passed</span>
                            <span class="text-zinc-500 text-xs font-bold">ID: 023</span>
                        </div>
                        <h4 class="text-xl font-bold">Double GEMS Staking Rewards</h4>
                        <p class="text-sm text-zinc-500 max-w-xl">Incentive program to increase total value locked in the security pool.</p>
                    </div>
                    <div class="flex items-center text-zinc-400 text-xs font-black uppercase tracking-widest">
                        Execution Complete
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Modal: Documentation Summary Choice -->
    <div id="doc-modal" class="fixed inset-0 z-[120] hidden items-center justify-center p-4">
        <div class="absolute inset-0 bg-black/80 backdrop-blur-md" onclick="closeDocModal()"></div>
        <div class="glass w-full max-w-2xl rounded-[2.5rem] relative z-10 border-white/10 shadow-2xl p-10 overflow-hidden">
            <div id="doc-modal-header" class="mb-8">
                <h3 id="doc-modal-title" class="text-3xl font-black mb-2">Attribute Title</h3>
                <div class="h-1 w-20 bg-indigo-500 rounded-full"></div>
            </div>
            <div id="doc-modal-content" class="text-zinc-400 leading-relaxed text-lg space-y-4">
                <!-- Summary content injected here -->
            </div>
            <button onclick="closeDocModal()" class="mt-10 w-full py-4 glass border-white/5 hover:bg-white/10 text-zinc-300 font-black rounded-2xl transition-all">
                Close Documentation
            </button>
        </div>
    </div>

    <!-- Modal: File Viewer -->
    <div id="file-viewer-modal" class="fixed inset-0 z-[110] hidden items-center justify-center p-4">
        <div class="absolute inset-0 bg-black/90 backdrop-blur-xl" onclick="closeFileViewer()"></div>
        <div class="glass w-full max-w-5xl h-[80vh] rounded-[2rem] relative z-10 border-white/10 shadow-2xl flex flex-col overflow-hidden">
            <div class="p-6 border-b border-white/5 flex justify-between items-center bg-white/5">
                <div class="flex items-center gap-4">
                    <div class="w-12 h-12 bg-indigo-500/20 rounded-xl flex items-center justify-center">
                        <i data-lucide="file-text" class="text-indigo-500"></i>
                    </div>
                    <div>
                        <h3 id="view-title" class="text-xl font-black truncate max-w-md">Document Name</h3>
                        <p id="view-meta" class="text-[10px] font-bold text-zinc-500 uppercase tracking-widest">Hash: 0x...</p>
                    </div>
                </div>
                <button onclick="closeFileViewer()" class="p-3 glass rounded-xl hover:bg-red-500/20"><i data-lucide="x"></i></button>
            </div>
            <div id="viewer-content" class="flex-1 overflow-y-auto p-12 bg-zinc-950/50">
                <div class="max-w-2xl mx-auto space-y-6">
                    <div class="p-8 border border-white/5 rounded-3xl bg-white/5">
                        <p class="text-zinc-300 italic mb-4">Verification Certificate Attached</p>
                        <p class="text-zinc-400 leading-relaxed">This research artifact has been successfully committed to the Gemini Academy protocol. It is currently anchored in the decentralized web via IPFS. Any changes to the file structure will invalidate its unique on-chain hash certificate.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notification System -->
    <div id="toast-container" class="fixed bottom-8 right-8 z-[200] space-y-3"></div>

    <script>
        // --- DATA ---
        let papers = [
            { id: 1, title: "On the Scalability of zk-STARKs", tag: "Computer Science", author: "0x82...e9a1", hash: "0x7a2...f81" },
            { id: 2, title: "Tokenomics of Reputation", tag: "Economics", author: "0x31...f2c4", hash: "0x1d4...c09" }
        ];

        const docDetails = {
            'Architecture': {
                summary: "Gemini Academy uses a dual-layer approach. The **Execution Layer** manages rapid paper submission and peer review tracking via zk-Rollups, while the **Persistence Layer** utilizes Arweave for permanent document storage. This ensures your research stays online forever without recurring fees.",
                attributes: ["Permanent storage", "L2 Scaling", "Modular security"]
            },
            'Verification': {
                summary: "Our verification engine uses **Non-Interactive Zero-Knowledge Proofs (NIZKPs)**. This allows researchers to prove they are the original authors of a paper or that they possess a specific degree without revealing their full private identity to the public ledger.",
                attributes: ["ZK-Snarks/Starks", "Private authorship", "Identity proofing"]
            },
            'Incentives': {
                summary: "The protocol operates on the **GEMS Utility Token**. GEMS are earned by high-quality peer reviewers and dedicated storage nodes. The treasury, governed by the DAO, allocates these tokens to research grants and protocol upgrades.",
                attributes: ["Staking rewards", "Treasury grants", "Fee distribution"]
            }
        };

        // --- CORE UI ---
        lucide.createIcons();

        function showPage(pageId) {
            document.querySelectorAll('.page-view').forEach(view => view.classList.remove('active'));
            document.getElementById(`${pageId}-page`).classList.add('active');
            
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.replace('text-indigo-500', 'text-zinc-500');
            });
            const activeNav = document.getElementById(`nav-${pageId}`);
            if (activeNav) activeNav.classList.replace('text-zinc-500', 'text-indigo-500');
            window.scrollTo(0, 0);
        }

        // --- DOC MODAL ---
        function openDocSummary(attr) {
            const data = docDetails[attr];
            const modal = document.getElementById('doc-modal');
            document.getElementById('doc-modal-title').innerText = attr;
            document.getElementById('doc-modal-content').innerHTML = `
                <p>${data.summary}</p>
                <div class="pt-4 grid grid-cols-1 gap-2">
                    ${data.attributes.map(a => `<div class="flex items-center gap-2 text-xs font-bold text-indigo-400 uppercase tracking-widest"><i data-lucide="check" class="w-3 h-3"></i> ${a}</div>`).join('')}
                </div>
            `;
            modal.classList.remove('hidden');
            modal.classList.add('flex');
            lucide.createIcons();
        }

        function closeDocModal() {
            document.getElementById('doc-modal').classList.add('hidden');
            document.getElementById('doc-modal').classList.remove('flex');
        }

        // --- VAULT & VIEWER ---
        function openFileViewer(id) {
            const paper = papers.find(p => p.id === id);
            showToast("Decrypting", "Retrieving node shards...");
            setTimeout(() => {
                const modal = document.getElementById('file-viewer-modal');
                document.getElementById('view-title').innerText = paper.title;
                document.getElementById('view-meta').innerText = `HASH: ${paper.hash}`;
                modal.classList.remove('hidden');
                modal.classList.add('flex');
            }, 600);
        }

        function closeFileViewer() {
            document.getElementById('file-viewer-modal').classList.add('hidden');
        }

        // --- VAULT ACTIONS ---
        document.getElementById('commit-btn').onclick = () => {
            const title = document.getElementById('paper-title-input').value;
            if (!title) return;
            showToast("Signing", "Awaiting wallet signature...");
            setTimeout(() => {
                papers.unshift({ id: Date.now(), title, tag: "Recent Upload", author: "0xYou", hash: "0xNEW..." });
                renderPapers();
                document.getElementById('paper-title-input').value = "";
                showToast("Success", "Paper committed to ledger.");
            }, 1000);
        };

        function renderPapers() {
            const list = document.getElementById('paper-list');
            list.innerHTML = papers.map(p => `
                <div class="glass p-6 rounded-2xl flex justify-between items-center border-white/5">
                    <div>
                        <span class="text-[10px] font-black text-indigo-500 uppercase tracking-widest">${p.tag}</span>
                        <h4 class="text-lg font-bold">${p.title}</h4>
                    </div>
                    <button onclick="openFileViewer(${p.id})" class="px-5 py-2 bg-indigo-500/10 text-indigo-500 rounded-lg text-xs font-black hover:bg-indigo-500 hover:text-white transition-all">Access</button>
                </div>
            `).join('');
        }

        function vote(choice) {
            showToast("Voting", `Casting power for: ${choice.toUpperCase()}`);
        }

        function showToast(title, msg) {
            const container = document.getElementById('toast-container');
            const toast = document.createElement('div');
            toast.className = `glass p-4 rounded-xl border-l-4 border-indigo-500 animate-fadeIn w-64 shadow-2xl`;
            toast.innerHTML = `<h6 class="font-black text-[10px] uppercase">${title}</h6><p class="text-zinc-500 text-[10px]">${msg}</p>`;
            container.appendChild(toast);
            setTimeout(() => toast.remove(), 3000);
        }

        renderPapers();
    </script>
</body>
</html>
